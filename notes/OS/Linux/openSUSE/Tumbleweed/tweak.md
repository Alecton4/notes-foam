# Tweak openSUSE Tumbleweed

Refer to the community guides for some good practices:

- https://opensuse.github.io/openSUSE-docs-revamped-temp/best_of_post/
- https://opensuse.github.io/openSUSE-docs-revamped-temp/safety_usability/

## Change hostname

Change the hostname by the following commands:

```bash
sudo hostnamectl hostname SOME_HOSTNAME
```

## Network settings

### WiFi

- eduroam: refer to [the HKUST ITSC guide]( https://itsc.hkust.edu.hk/services/general-it-services/wifi/wi-fi-services/configuration-eduroam ).

## System update

Run the following commands:

```bash
sudo zypper refresh
sudo zypper dist-upgraded # optionally add "--no-recommends"
```

An option `--no-recommends` can be added referring to [the Reddit post]( https://www.reddit.com/r/openSUSE/comments/10rnrnu/zypper_keeps_installing_kde_games_on_update_how/ ) and [the blog]( https://linuxkamarada.com/en/2021/04/07/what-are-recommended-packages-and-how-to-install-them-on-opensuse/ ).

## Package repository

Refer to [the wiki]( https://en.opensuse.org/Package_repositories ) for more.

### Add repo

#### Packman and NVidia

Open *YaST Software Repositories* and select *Add* >> *Community Repositories*.

Note that after this, *YaST Software* may automatically select some NVidia drivers to install. Do **not** install them because they will cause problems. See [Graphics section](#graphics).

#### VSCode

Add *VSCode* repo (and install VSCode) (refer to [the wiki]( https://en.opensuse.org/Visual_Studio_Code#Install )) by the following commands:

```bash
sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc
sudo zypper addrepo https://packages.microsoft.com/yumrepos/vscode VSCode
sudo zypper refresh
sudo zypper install code
```

#### CUDA

Add *CUDA* repo (refer the [the post]( https://www.reddit.com/r/openSUSE/comments/gaihe9/cuda_on_tumbleweed/ )) by the following commands:

```bash
zypper addrepo -p 100 http://developer.download.nvidia.com/compute/cuda/repos/opensuse15/x86_64/cuda-opensuse15.repo
```

#### M17N (Multilingualization)

Add *M17N* repo by the following commands:

```bash
zypper addrepo https://download.opensuse.org/repositories/M17N/openSUSE_Tumbleweed/M17N.repo
```

#### Flatpaks

Add *Flatpaks* (refer to [the community guide]( https://opensuse.github.io/openSUSE-docs-revamped-temp/best_of_post/#setup-your-tumbleweed-for-flatpaks )) by the following commands:

```bash
sudo zypper in flatpak
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
```

### Check repo

Use *YaST* or `zypper repos -P` to check repos.

### Set priority

Use *YaST* or `zypper modifyrepo -p` to set repo priority.

## Shell and terminal

### starship

1. Install CMake by `sudo zypper install cmake`.
2. Install Rust. See [[dev_env]].
3. Then install starship by `cargo install starship --locked`.
4. See [[starship]] for configuration.

### wezterm

1. Use *YaST* to install the stable version. Refer to [the official doc]( https://wezfurlong.org/wezterm/install/linux.html#installing-on-fedora-and-rpm-based-systems ) for the night version.
2. See [[wezterm]] for configuration.

## Graphics

### Install driver and prime-select

Refer to the following pages:

- https://opensuse.github.io/openSUSE-docs-revamped-temp/hybrid_graphics/
- https://en.opensuse.org/SDB:NVIDIA_drivers
- https://en.opensuse.org/SDB:NVIDIA_troubleshooting
- https://en.opensuse.org/SDB:NVIDIA_SUSE_Prime
- https://www.bwsl.wang/script/129.html

### Make applications running on NVidia card

Use `__NV_PRIME_RENDER_OFFLOAD=1 __VK_LAYER_NV_optimus=NVIDIA_only __GLX_VENDOR_LIBRARY_NAME=nvidia APP_COMMAND`.

Refer to the following pages:

- https://wiki.archlinux.org/title/PRIME#Configure_applications_to_render_using_GPU
- https://askubuntu.com/questions/1364762/prime-run-command-not-found
- https://www.youtube.com/watch?v=aPi8NfDyDMU

### Benchmark

Refer to [Arch wiki]( https://wiki.archlinux.org/title/benchmarking#Graphics ).

## Codecs

Refer to [the wiki]( https://en.opensuse.org/SDB:Firefox_MP4/H.264_Video_Support ) to enable firefox to play HTML5 videos. For my machine I just installed the following packages from the *Packman* repository:

- `libavcodec56`, `libavcodec57`, `libavcodec58`, `libavformat56`, `libavformat57`, `libavformat58`, `libavdevice56`, `libavdevice57`, `libavdevice58`

Refer to the following pages for more:

- https://en.opensuse.org/SDB:Installing_codecs_from_Packman_repositories
- https://opensuse.github.io/openSUSE-docs-revamped-temp/codecs/
- https://www.reddit.com/r/openSUSE/comments/u0myze/some_youtube_videos_dont_play_on_firefox/

## Fingerprint

## Bluetooth

See [[cross-distro/bluetooth]].

## Font

## KDE

### Widget

- [Event Calendar]( https://store.kde.org/p/998901 )
- [Prime Render Switch and Status]( https://store.kde.org/p/1425330 )

## Development environment

See [[dev_env]].

[//begin]: # "Autogenerated link references for markdown compatibility"
[dev_env]: dev_env.md "Development Environment"
[starship]: ../../../cross-platform/starship.md "starship"
[wezterm]: ../../../cross-platform/wezterm.md "wezterm"
[cross-distro/bluetooth]: ../../cross-distro/bluetooth.md "Use the Same Bluetooth Device on Linux and Windows Dual Boot System"
[//end]: # "Autogenerated link references"
