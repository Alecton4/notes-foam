# Docker Usage

- [Manage Docker as a non-root user (less secure)](#manage-docker-as-a-non-root-user-less-secure)
- [Rootless mode (more secure)](#rootless-mode-more-secure)
- [Access Docker container port from host](#access-docker-container-port-from-host)
- [Access host port in Docker container](#access-host-port-in-docker-container)
- [VSCode \& Docker](#vscode--docker)

For installation, see:

- openSUSE Tumbleweed: [[dev-env#Docker]]

## Manage Docker as a non-root user (less secure)

1. Add yourself to the `docker` group by the following commands:

   ```bash
   sudo usermod -aG docker $USER
   ```

2. Log out and Log back in to take effect.

*References*:

- [Manage Docker as a non-root user](https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user)

## Rootless mode (more secure)

- [ ] todo

*References*:

- [Run the Docker daemon as a non-root user (Rootless mode)](https://docs.docker.com/engine/security/rootless/)

## Access Docker container port from host

{% raw %}
For modern Docker engine, check the container's ip via `sudo docker inspect -f "{{ .NetworkSettings.IPAddress }}" CONTAINER_NAME`.

For older Docker engine, check the container's ip via `docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' CONTAINER_NAME`.
{% endraw %}

*References*:

- [How to SSH into a Running Docker Container and Run Commands](https://phoenixnap.com/kb/how-to-ssh-into-docker-container)

## Access host port in Docker container

Find the `docker0` interface IP of the host via `ip addr show docker0`.

*References*:

- [How do I access the host port in a Docker container?](https://bright-softwares.com/blog/en/docker/how-do-i-access-the-host-port-in-a-docker-container#step-2-get-the-containers-ip)

## VSCode & Docker

*References*:

- [Docker in Visual Studio Code](https://code.visualstudio.com/docs/containers/overview)
- [Developing inside a Container](https://code.visualstudio.com/docs/devcontainers/containers)
- [Connect to remote Docker over SSH](https://code.visualstudio.com/docs/containers/ssh)

[//begin]: # "Autogenerated link references for markdown compatibility"
[dev-env#Docker]: ../openSUSE/Tumbleweed/dev-env.md "OpenSUSE Tumbleweed Development Environment"
[//end]: # "Autogenerated link references"
